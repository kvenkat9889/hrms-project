<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Employee Review</title>
    <style>
        body {
            font-family: Arial, Helvetica, sans-serif;
            margin: 0;
            padding: 0;
            display: flex;
            justify-content: center;
            flex-direction: column;
        
        }

        .container {
            display: flex;
            justify-content: space-between;
            width: 100%;
            margin-top: 20px;
            gap: 30px;
        }
        .banner {
            background-color: #3b145b;
            color: white;
            text-align: center;
            height: auto;
            padding: 10px;
            border-radius: 15px;
            margin-bottom: 40px;
            width: 98%;
            font-family: Verdana, Geneva, Tahoma, sans-serif;
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.1);
        }

        .banner h1 {
            font-size: 36px;
            color: white;
            font-weight: 600;
        }
        .banner p {
            font-size: 18px;
            margin-top: 10px;
        }

        .left-side {
            width: 60%;
            background: linear-gradient(rgba(224, 224, 255, 0.45), rgba(253, 240, 227, 0.61), rgba(247, 222, 255, 0.568));
            padding: 20px;
            height: 750px;
            border-radius: 8px;
            box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);
        }

        .left-side h3 {
            text-align: center;
            margin-bottom: 20px;
            font-size: 30px;
        }

        .form-group {
            margin-bottom: 15px;
        }

        .form-group label {
            display: block;
            margin-bottom: 5px;
        }

        .form-group input,
        .form-group select,
        .form-group textarea {
            width: 100%;
            padding: 8px;
            border: 1px solid #ccc;
            border-radius: 4px;
            box-sizing: border-box;
        }
        textarea{
            resize: none;
            height: 120px;
        }

        .star-rating {
            display: flex;
            gap: 5px;
        }

        .star {
            font-size: 25px;
            color: #ddd;
            cursor: pointer;
        }

        .star.selected {
            color: gold;
        }
        button {
  --color: #560bad; 
  --bg-color: #fff; 
  font-family: inherit;
  display: inline-block;
  width: 8em;
  height: 2.6em;
  line-height: 2.5em;
  margin: 20px;
  position: relative;
  cursor: pointer;
  overflow: hidden;
  border: 2px solid var(--color);
  transition: color 0.5s, background 0.5s;
  z-index: 1;
  width: 360px;
  display: flex;
  margin-left: auto;
  margin-right: auto;
  justify-content: center;
  font-size: 17px;
  border-radius: 6px;
  font-weight: 500;
  color: var(--color);
  background-color: var(--bg-color); 
}

button:before {
  content: "";
  position: absolute;
  z-index: -1;
  background: var(--color); 
  height: 150px;
  width: 200px;
  border-radius: 50%;
  transition: all 0.7s;
}

button:hover {
  color: var(--bg-color); 
  background-color: var(--color); 
}

button:before {
  top: 100%;
  left: 100%;
}

button:hover:before {
  top: -30px;
  left: -30px;
}

button:active:before {
  background: #ffffff; 
  transition: background 0s;
}

button:active {
  color: var(--color); 
  background-color: #ffffff; 
}

        
        .right-side {
            width: 60%;
            display: flex;
            flex-wrap: wrap;
            gap: 20px;
            height: 900px;
            overflow-y: scroll;
            justify-content: flex-start;
        }

        .appraisal-card {
            background-color: #8e35e857;
            color: rgb(0, 0, 0);
            border: 1px solid #ddd;
            border-radius: 8px;
            padding: 20px;
            box-shadow: 0 2px 5px rgb(0, 0, 0, 0.1);
            width: 80%;
            display: block;
            margin-left: auto;
            margin-right: auto;
            transition: transform 0.3s ease, box-shadow 0.3s ease;
        }

        .appraisal-card:hover {
            transform: scale(1.05);
            box-shadow: 0 6px 15px rgba(0, 0, 0, 0.2);
        }

        .appraisal-card .title {
            font-size: 18px;
            font-weight: bold;
            margin-bottom: 10px;
        }

        .appraisal-card .details {
            margin-bottom: 10px;
        }
    </style>
</head>
<body>
    <div class="banner">
        <h1>Employee Appraisals</h1>
        <p>Create new appraisal for employees</p>
    </div>
    <div class="container">
        <form class="left-side" onsubmit="submitReview(event)">
            <h3>Employee Appraisal Form</h3>

            <div class="form-group">
                <label for="emp-name-input">Employee Name</label>
                <input type="text" id="emp-name-input" placeholder="Enter Employee Name" required minlength="3" maxlength="50"
                pattern="^[A-Za-z]+(?:\.[A-Za-z]+)*(?: [A-Za-z]+)*(?:\.[A-Za-z]+){0,3}$"
                title="Name cannot start with a space, no consecutive spaces allowed, maximum 8 spaces and 3 periods allowed.">
            </div>

            <div class="form-group">
                <label for="emp-id-input">Employee ID</label>
                <input type="text" id="emp-id-input" placeholder="Enter Employee ID" required 
                    pattern="[A-Z]{3}0[0-9]{3}" minlength="7" maxlength="7">
            </div>

            <div class="form-group">
                <label for="task-input">Present Task</label>
                <input type="text" id="task-input" placeholder="Enter Task" required minlength="3" maxlength="60">
            </div>

            <div class="form-group">
                <label for="project-input">Project</label>
                <input type="text" id="project-input" placeholder="Enter Project" required minlength="3" maxlength="50">
            </div>

            <div class="form-group">
                <label>Review</label>
                <input type="text" id="review-input" required placeholder="Enter review (e.g., Good, Bad, Excellent)">
            </div>
            

            <div class="form-group">
                <label>Remarks</label>
                <textarea id="remarks-input" rows="3" placeholder="Add Comments" required minlength="3" maxlength="200"></textarea>
            </div>

            <div class="form-group">
                <label>Rating</label>
                <div class="star-rating">
                    <span class="star" data-value="1">★</span>
                    <span class="star" data-value="2">★</span>
                    <span class="star" data-value="3">★</span>
                    <span class="star" data-value="4">★</span>
                    <span class="star" data-value="5">★</span>
                </div>
            </div>

            <button type="submit" class="submit-btn">Submit</button>
        </form>

        <div class="right-side">
         
        </div>
    </div>

    <script>
        document.querySelectorAll('.star').forEach(star => {
            star.addEventListener('click', function () {
                const rating = this.getAttribute('data-value');
                const stars = this.closest('.star-rating').querySelectorAll('.star');
                
                stars.forEach(star => star.classList.toggle('selected', star.getAttribute('data-value') <= rating));
            });
        });

        window.onload = function() {
            loadAppraisalCards();
        }

        function submitReview(event) {
    event.preventDefault();

    const empNameInput = document.getElementById("emp-name-input");
    const empIdInput = document.getElementById("emp-id-input");
    const taskInput = document.getElementById("task-input");
    const projectInput = document.getElementById("project-input");
    const reviewInput = document.getElementById("review-input");  
    const remarksInput = document.getElementById("remarks-input");
    const selectedRating = document.querySelectorAll(".left-side .star.selected").length;

    const empName = empNameInput.value.trim();
    const empId = empIdInput.value.trim();
    const task = taskInput.value.trim();
    const project = projectInput.value.trim();
    const review = reviewInput.value.trim();  
    const remarks = remarksInput.value.trim();

    const newAppraisal = {
        empName,
        empId,
        task,
        project,
        review,
        rating: selectedRating,
        remarks
    };

    const storedAppraisals = JSON.parse(localStorage.getItem('appraisals')) || [];
    storedAppraisals.push(newAppraisal);
    localStorage.setItem('appraisals', JSON.stringify(storedAppraisals));

    const rightSideContainer = document.querySelector(".right-side");
    const newAppraisalCard = document.createElement("div");
    newAppraisalCard.classList.add("appraisal-card");

    newAppraisalCard.innerHTML = `
        <div class="title">${empName} - Recent Appraisal (ID: ${empId})</div>
        <div class="details">Task: ${task}</div>
        <div class="details">Project: ${project}</div>
        <div class="details">Review: ${review}</div>
        <div class="details">Rating: ${selectedRating} ★</div>
        <div class="details">Remarks: ${remarks}</div>
    `;

    rightSideContainer.appendChild(newAppraisalCard);

    empNameInput.value = "";
    empIdInput.value = "";
    taskInput.value = "";
    projectInput.value = "";
    reviewInput.value = "";  
    remarksInput.value = "";
    document.querySelectorAll(".left-side .star").forEach(star => star.classList.remove("selected"));
}

        function loadAppraisalCards() {
            const storedAppraisals = JSON.parse(localStorage.getItem('appraisals')) || [];
            const rightSideContainer = document.querySelector(".right-side");

            storedAppraisals.forEach(appraisal => {
                const newAppraisalCard = document.createElement("div");
                newAppraisalCard.classList.add("appraisal-card");

                newAppraisalCard.innerHTML = `
                    <div class="title">${appraisal.empName} - Recent Appraisal (ID: ${appraisal.empId})</div>
                    <div class="details">Task: ${appraisal.task}</div>
                    <div class="details">Project: ${appraisal.project}</div>
                    <div class="details">Review: ${appraisal.review}</div>
                    <div class="details">Rating: ${appraisal.rating} ★</div>
                    <div class="details">Remarks: ${appraisal.remarks}</div>
                `;

                rightSideContainer.appendChild(newAppraisalCard);
            });
        }
    </script>

</body>
</html>
